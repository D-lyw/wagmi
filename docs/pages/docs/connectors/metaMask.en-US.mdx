# MetaMask

The `MetaMaskConnector` supports connecting with MetaMask.

```ts
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'
```

## Usage

```ts
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector()
```

## Configuration

### allowConnectToUnsupportedChain

Allows the user to connect to an unsupported chain (a chain that isn't listed in `chains`). If `false`, then the connector will prompt the user to switch network on connection. Defaults to `true`.

```ts {5}
import { chain } from 'wagmi'
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector({
  allowConnectToUnsupportedChain: false,
  chains: [chain.mainnet, chain.optimism],
})
```

### chains (optional)

Chains supported by app. Defaults to `defaultChains`.

```ts {5}
import { chain } from 'wagmi'
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector({
  chains: [chain.mainnet, chain.optimism],
})
```

### options (optional)

Options for configuring the connector.

```ts {4-6}
import { MetaMaskConnector } from 'wagmi/connectors/metaMask'

const connector = new MetaMaskConnector({
  options: {
    shimDisconnect: true,
  },
})
```

#### shimChainChangedDisconnect

MetaMask emits the `"disconnect"` event when chain is changed. This flag prevents the `"disconnect"` event from being emitted upon switching chains. Defaults to `true`.

```ts {5}
import { InjectedConnector } from 'wagmi/connectors/injected'

const connector = new InjectedConnector({
  options: {
    shimChainChangedDisconnect: false,
  },
})
```

#### shimDisconnect

MetaMask [does not support programmatic disconnect](https://github.com/MetaMask/metamask-extension/issues/10353). This flag simulates the disconnect behavior by keeping track of connection status in storage. Defaults to `true`.

```ts {5}
import { InjectedConnector } from 'wagmi/connectors/injected'

const connector = new InjectedConnector({
  options: {
    shimDisconnect: false,
  },
})
```
